<div>
  <div class="va-text">
    <div class="d-flex align-items-center justify-content-center">
      <select class="custom-select filter-form va-small-text query-select" [(ngModel)]="selectedQuery"
        (change)="changeAdvancedQuery($event)">
        <option ng-hide="model" value="">Please choose a query</option>
        <option *ngFor="let p of queries" [value]="p">{{p}}</option>
      </select>
    </div>
  </div>
</div>

<div *ngIf="selectedIdx==0 || selectedIdx==1">
  <div>
    <!-- selected nodes -->
    <div>
      <span class="va-text" *ngIf="selectedIdx==0">Get graph of interest for</span>
      <div class="form-inline va-text m-2 justify-content-center" *ngIf="selectedIdx==1">
        <span>Get common &nbsp;</span>
        <input [disabled]="!isDirected" type="radio" class="form-check-input" name="optradio1"
          (click)="targetOrRegulator = 0" value="0" [checked]="targetOrRegulator === 0"><span>target(s) &nbsp;</span>
        <input [disabled]="!isDirected" type="radio" class="form-check-input" name="optradio1"
          (click)="targetOrRegulator = 1" value="1" [checked]="targetOrRegulator === 1"><span> regulator(s) for</span>
      </div>

      <div class="d-flex flex-wrap justify-content-center">
        <div *ngFor="let n of selectedNodes; let i = index;" class="rounded va-text m-1 p-1"
          [style.border]="'2px solid #dee2e6'">
          <div class="text-center">
            <span>{{n.label}}</span>&nbsp;
            <img src="assets/img/close.svg" class="pointer" (click)="removeSelected(i)" title="Remove">
          </div>
        </div>
      </div>
      <div>
        <input class="btn btn-dark va-text m-1" type="button" value="Add selection" (click)="addSelectedNodes()">
        <input *ngIf="selectedNodes && selectedNodes.length > 0" class="btn btn-dark va-text m-1" type="button"
          value="Remove all" (click)="removeAllSelectedNodes()">
      </div>
    </div>
    <hr>
    <!-- ignored types -->
    <div>
      <p class="va-text">Object type(s) to ignore: </p>
      <div class="form-inline m-2 justify-content-center">
        <select class="custom-select filter-form va-text" [(ngModel)]="selectedClass">
          <option *ngFor="let opt of nodeEdgeClasses">{{opt}} </option>
        </select>
        <div class="m-1 text-center">
          <img src="assets/img/add.svg" class="pointer" alt="Add ignored type" (click)="addIgnoredType()">
        </div>
      </div>
      <div class="d-flex flex-wrap justify-content-center">
        <div *ngFor="let t of ignoredTypes; let i = index;" class="rounded va-text m-1 p-1"
          [style.border]="'2px solid #dee2e6'">
          <div class="text-center">
            <span>{{t}}</span>&nbsp;
            <img src="assets/img/close.svg" class="pointer" (click)="removeIgnoredType(i)" title="Remove">
          </div>
        </div>
      </div>
    </div>
    <hr>
    <!-- options -->
    <div>
      <div class="form-inline justify-content-center">
        <label class="form-check-label va-text">Length limit</label>
        <div class="mx-1">
          <input type="number" max="10" min="1" [(ngModel)]="lengthLimit" class="form-control inp-3-char va-text">
        </div>
        <input class="form-check-input" type="checkbox" [(ngModel)]="isDirected">
        <label class="form-check-label va-text">Directed</label>
      </div>

      <div class="form-inline justify-content-center">
        <input class="btn btn-dark va-text m-1" type="button" value="Execute" (click)="runQuery()">
        <input class="form-check-input" type="checkbox" [(ngModel)]="isGraph">
        <label class="form-check-label va-text">Graph&nbsp;</label>
        <input class="form-check-input" type="checkbox" [(ngModel)]="isMerge">
        <label class="form-check-label va-text">Merge</label>
      </div>
    </div>

  </div>
  <app-table-view [params]="tableInput" [tableFilled]="tableFilled"
    (onDataForQueryResult)="getDataForQueryResult($event)" (onFilteringChanged)="filterTable($event)">
  </app-table-view>
</div>